{
  "compatibility_date": "2026-01-28",
  "compatibility_flags": [
    "nodejs_compat",
    // adding these flags since the vitest runner needs them
    "enable_nodejs_tty_module",
    "enable_nodejs_fs_module",
    "enable_nodejs_http_modules",
    "enable_nodejs_perf_hooks_module"
  ],
  "durable_objects": {
    "bindings": [
      {
        "class_name": "TestMcpAgent",
        "name": "MCP_OBJECT"
      },
      {
        "class_name": "TestEmailAgent",
        "name": "EmailAgent"
      },
      {
        "class_name": "TestCaseSensitiveAgent",
        "name": "CaseSensitiveAgent"
      },
      {
        "class_name": "TestUserNotificationAgent",
        "name": "UserNotificationAgent"
      },
      { "class_name": "TestRaceAgent", "name": "TAG_AGENT" },
      {
        "class_name": "TestOAuthAgent",
        "name": "TestOAuthAgent"
      },
      {
        "class_name": "TestCustomOAuthAgent",
        "name": "TestCustomOAuthAgent"
      },
      {
        "class_name": "TestMcpJurisdiction",
        "name": "TEST_MCP_JURISDICTION"
      },
      {
        "class_name": "TestDestroyScheduleAgent",
        "name": "TestDestroyScheduleAgent"
      },
      {
        "class_name": "TestReadonlyAgent",
        "name": "TestReadonlyAgent"
      },
      {
        "class_name": "TestProtocolMessagesAgent",
        "name": "TestProtocolMessagesAgent"
      },
      {
        "class_name": "TestScheduleAgent",
        "name": "TestScheduleAgent"
      },
      {
        "class_name": "TestWorkflowAgent",
        "name": "TestWorkflowAgent"
      },
      {
        "class_name": "TestAddMcpServerAgent",
        "name": "TestAddMcpServerAgent"
      },
      {
        "class_name": "TestRpcMcpClientAgent",
        "name": "TestRpcMcpClientAgent"
      },
      {
        "class_name": "TestStateAgent",
        "name": "TestStateAgent"
      },
      {
        "class_name": "TestStateAgentNoInitial",
        "name": "TestStateAgentNoInitial"
      },
      {
        "class_name": "TestThrowingStateAgent",
        "name": "TestThrowingStateAgent"
      },
      {
        "class_name": "TestPersistedStateAgent",
        "name": "TestPersistedStateAgent"
      },
      {
        "class_name": "TestBothHooksAgent",
        "name": "TestBothHooksAgent"
      },
      {
        "class_name": "TestNoIdentityAgent",
        "name": "TestNoIdentityAgent"
      },
      {
        "class_name": "TestCallableAgent",
        "name": "TestCallableAgent"
      },
      {
        "class_name": "TestChildAgent",
        "name": "TestChildAgent"
      },
      {
        "class_name": "TestQueueAgent",
        "name": "TestQueueAgent"
      },
      {
        "class_name": "TestRetryAgent",
        "name": "TestRetryAgent"
      },
      {
        "class_name": "TestRetryDefaultsAgent",
        "name": "TestRetryDefaultsAgent"
      },
      {
        "class_name": "TestFiberAgent",
        "name": "TestFiberAgent"
      },
      {
        "class_name": "TestSessionAgent",
        "name": "TestSessionAgent"
      },
      {
        "class_name": "TestSessionAgentNoMicroCompaction",
        "name": "TestSessionAgentNoMicroCompaction"
      },
      {
        "class_name": "TestSessionAgentCustomRules",
        "name": "TestSessionAgentCustomRules"
      }
    ]
  },
  "workflows": [
    {
      "name": "test-processing-workflow",
      "binding": "TEST_WORKFLOW",
      "class_name": "TestProcessingWorkflow"
    },
    {
      "name": "simple-test-workflow",
      "binding": "SIMPLE_WORKFLOW",
      "class_name": "SimpleTestWorkflow"
    },
    {
      "name": "throw-in-run-workflow",
      "binding": "THROW_IN_RUN_WORKFLOW",
      "class_name": "ThrowInRunWorkflow"
    },
    {
      "name": "report-error-then-throw-workflow",
      "binding": "REPORT_ERROR_THEN_THROW_WORKFLOW",
      "class_name": "ReportErrorThenThrowWorkflow"
    },
    {
      "name": "report-error-only-workflow",
      "binding": "REPORT_ERROR_ONLY_WORKFLOW",
      "class_name": "ReportErrorOnlyWorkflow"
    },
    {
      "name": "throw-non-error-workflow",
      "binding": "THROW_NON_ERROR_WORKFLOW",
      "class_name": "ThrowNonErrorWorkflow"
    }
  ],
  "main": "worker.ts",
  "migrations": [
    {
      "new_sqlite_classes": [
        "TestMcpAgent",
        "TestEmailAgent",
        "TestCaseSensitiveAgent",
        "TestUserNotificationAgent",
        "TestRaceAgent",
        "TestOAuthAgent",
        "TestCustomOAuthAgent",
        "TestMcpJurisdiction",
        "TestDestroyScheduleAgent",
        "TestReadonlyAgent",
        "TestProtocolMessagesAgent",
        "TestScheduleAgent",
        "TestWorkflowAgent",
        "TestAddMcpServerAgent",
        "TestRpcMcpClientAgent",
        "TestStateAgent",
        "TestStateAgentNoInitial",
        "TestThrowingStateAgent",
        "TestPersistedStateAgent",
        "TestBothHooksAgent",
        "TestNoIdentityAgent",
        "TestCallableAgent",
        "TestChildAgent",
        "TestQueueAgent",
        "TestRetryAgent",
        "TestRetryDefaultsAgent",
        "TestFiberAgent",
        "TestSessionAgent",
        "TestSessionAgentNoMicroCompaction",
        "TestSessionAgentCustomRules"
      ],
      "tag": "v1"
    }
  ]
}
